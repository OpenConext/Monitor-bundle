services:
    _defaults:
        autowire: true      # Automatically injects dependencies in your services.
        autoconfigure: true # Automatically registers your services as commands, event subscribers, etc.

    OpenConext\MonitorBundle\:
        resource: '../../'
        exclude: '../../{Entity,Repository,Tests,Resources,DependencyInjection,OpenConextMonitorBundle.php}'

    openconext.monitor.health_check_chain:
        class: OpenConext\MonitorBundle\HealthCheck\HealthCheckChain

    openconext.monitor.session_health_check:
        class: OpenConext\MonitorBundle\HealthCheck\SessionHealthCheck

    openconext.monitor.doctrine_health_check:
        class: OpenConext\MonitorBundle\HealthCheck\DoctrineConnectionHealthCheck

    _instanceof:
        OpenConext\MonitorBundle\HealthCheck\HealthCheckInterface:
            tags: ['openconext.monitor.health_check']
